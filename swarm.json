{
    "app_name": "reddit",
    "services": [
        {
            "service_name": "reddit-service",
            "components": [
                {
                    "component_name": "reddit",
                    "image": "jotrk/reddit",
                    "ports": [ "8081/tcp" ],
                    "domains": { "$domain": "8081" },
                    "dependencies": [
                      {
                        "name": "memcached",
                        "port": 11211,
                        "alias": "reddit-memcached"
                      },
                      {
                        "name": "geoip",
                        "port": 5000,
                        "alias": "reddit-geoip"
                      },
                      {
                        "name": "reddit-postgres",
                        "port": 5432,
                        "alias": "reddit-postgres"
                      },
                      {
                        "name": "reddit-rabbitmq",
                        "port": 5672,
                        "alias": "reddit-rabbitmq"
                      },
                      {
                        "name": "reddit-cassandra",
                        "port": 61621,
                        "port": 7000,
                        "port": 7001,
                        "port": 7199,
                        "port": 8012,
                        "port": 9042,
                        "port": 9160,
                        "alias": "reddit-cassandra"
                      }
                    ]
                },
                {
                    "component_name": "memcached",
                    "image": "memcached",
                    "ports": [ "11211/tcp" ]
                },
                {
                    "component_name": "geoip",
                    "image": "jotrk/geoip",
                    "ports": [ "5000/tcp" ]
                },
                {
                    "component_name": "reddit-postgres",
                    "image": "jotrk/reddit-postgres",
                    "ports": [ "5432/tcp" ]
                },
                {
                    "component_name": "reddit-rabbitmq",
                    "image": "jotrk/reddit-rabbitmq",
                    "ports": [ "5672/tcp" ]
                },
                {
                    "component_name": "reddit-cassandra",
                    "image": "jotrk/reddit-cassandra",
                    "ports": [ "61621/tcp", "7000/tcp", "7001/tcp", "7199/tcp", "8012/tcp", "9042/tcp", "9160/tcp" ]
                }
            ]
        }
    ]
}
